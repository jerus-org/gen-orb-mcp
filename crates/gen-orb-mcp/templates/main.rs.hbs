//! MCP server for the {{orb_name}} CircleCI orb.
//!
//! This server exposes orb commands, jobs, and executors as MCP resources,
//! enabling AI coding assistants to understand and work with this orb.
//!
//! Generated by gen-orb-mcp.

use anyhow::Result;
use rmcp::{ServiceExt, transport::stdio};
use tracing_subscriber::{self, EnvFilter};

#[tokio::main]
async fn main() -> Result<()> {
    // Initialize tracing (logs to stderr, controlled by RUST_LOG env var)
    tracing_subscriber::fmt()
        .with_env_filter(EnvFilter::from_default_env())
        .with_writer(std::io::stderr)
        .init();

    // Create and run the MCP server with stdio transport
    let server = {{crate_name}}::OrbServer::new();
    let service = server.serve(stdio()).await?;
    service.waiting().await?;

    Ok(())
}
